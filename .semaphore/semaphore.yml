# DO NOT EDIT
# This is a generated file by the `rake build_matrix:semaphore:generate` task.
# See `build_matrix.yml` for the build matrix.
# Generate this file with `rake build_matrix:semaphore:generate`.
---
version: v1.0
name: AppSignal Ruby Build and Tests
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
auto_cancel:
  running:
    when: branch != 'main' AND branch != 'develop'
global_job_config:
  env_vars:
  - name: RUNNING_IN_CI
    value: 'true'
  - name: _BUNDLER_CACHE
    value: v2
  - name: _GEMS_CACHE
    value: v2
  prologue:
    commands:
    - checkout
    - rm -f $HOME/.rbenv/plugins/rbenv-gem-rehash/etc/rbenv.d/exec/~gem-rehash.bash
    - |
      if [ -n "$_C_VERSION" ]; then
        sem-version c $_C_VERSION
      else
        echo Skipping C-lang install
      fi
    - |
      if [ -n "$RUBY_VERSION" ]; then
        if ! (sem-version ruby "$RUBY_VERSION"); then
          ruby_key="rbenv-ruby-$RUBY_VERSION"
          echo "Attempting to build Ruby $RUBY_VERSION from source"
          git -C "$HOME/.rbenv/plugins/ruby-build" pull
          cache restore "$ruby_key"
          sem-version ruby "$RUBY_VERSION"
          if ! cache has_key "$ruby_key"; then
            cache store "$ruby_key" "$HOME/.rbenv/versions/$RUBY_VERSION"
          fi
        fi
        ./support/check_versions
      else
        echo Skipping Ruby install
      fi
blocks:
- name: Validation
  dependencies: []
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
    jobs:
    - name: Validate CI setup
      env_vars:
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: Gemfile
      commands:
      - "./support/bundler_wrapper exec rake build_matrix:semaphore:validate"
    epilogue:
      on_pass:
        commands:
        - cache store $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
          appsignal.gemspec) .bundle
        - cache store $_GEMS_CACHE-gems-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
          appsignal.gemspec) $HOME/.gem
- name: Ruby linters
  dependencies: []
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
    jobs:
    - name: RuboCop
      env_vars:
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: Gemfile
      commands:
      - "./support/bundler_wrapper exec rubocop"
    epilogue:
      on_pass:
        commands:
        - cache store $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
          appsignal.gemspec) .bundle
        - cache store $_GEMS_CACHE-gems-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
          appsignal.gemspec) $HOME/.gem
- name: Other linters
  dependencies: []
  task:
    jobs:
    - name: Git Lint (Lintje)
      commands:
      - script/lint_git
- name: Integration tests
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-diagnose-$(checksum Gemfile)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-diagnose-$(checksum Gemfile)
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
      - git submodule init
      - git submodule update
    jobs:
    - name: Diagnose
      env_vars:
      - name: RUBY_VERSION
        value: 3.0.2
      - name: LANGUAGE
        value: ruby
      commands:
      - spec/integration/diagnose/bin/test
    epilogue:
      on_pass:
        commands:
        - cache store $_BUNDLER_CACHE-bundler-$RUBY_VERSION-diagnose-$(checksum Gemfile)
          .bundle
        - cache store $_GEMS_CACHE-gems-$RUBY_VERSION-diagnose-$(checksum Gemfile)
          $HOME/.gem
- name: Ruby 2.0.0-p648
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: &1
      on_pass:
        commands:
        - cache store $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
          appsignal.gemspec) .bundle
        - cache store $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
          appsignal.gemspec) $HOME/.gem
      on_fail:
        commands:
        - "[ -e ext/install.report ] && cat ext/install.report || echo 'No ext/install.report
          file found'"
        - "[ -f ext/mkmf.log ] && cat ext/mkmf.log || echo 'No ext/mkmf.log file found'"
    jobs:
    - name: Ruby 2.0.0-p648 for no_dependencies
      env_vars:
      - &2
        name: BUNDLE_PATH
        value: "../.bundle/"
      - &3
        name: RAILS_ENV
        value: test
      - &4
        name: JRUBY_OPTS
        value: ''
      - &5
        name: COV
        value: '1'
      - name: RUBY_VERSION
        value: 2.0.0-p648
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: 2.7.8
      - name: _BUNDLER_VERSION
        value: 1.17.3
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 2.0.0-p648 - Gems
  dependencies:
  - Ruby 2.0.0-p648
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.0.0-p648 for rails-3.2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.0.0-p648
      - name: GEMSET
        value: rails-3.2
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-3.2.gemfile
      - name: _RUBYGEMS_VERSION
        value: 2.7.8
      - name: _BUNDLER_VERSION
        value: 1.17.3
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.0.0-p648 for rails-4.2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.0.0-p648
      - name: GEMSET
        value: rails-4.2
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-4.2.gemfile
      - name: _RUBYGEMS_VERSION
        value: 2.7.8
      - name: _BUNDLER_VERSION
        value: 1.17.3
      commands:
      - "./support/bundler_wrapper exec rake test"
- name: Ruby 2.1.10
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.1.10 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.1.10
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: 2.7.8
      - name: _BUNDLER_VERSION
        value: 1.17.3
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 2.2.10
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.2.10 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.2.10
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: 2.7.8
      - name: _BUNDLER_VERSION
        value: 1.17.3
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 2.3.8
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.3.8 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.3.8
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: 3.3.26
      - name: _BUNDLER_VERSION
        value: 2.3.26
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 2.4.10
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.4.10 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.4.10
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 2.5.8
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.5.8 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.5.8
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 2.5.8 - Gems
  dependencies:
  - Ruby 2.5.8
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.5.8 for rails-5.2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.5.8
      - name: GEMSET
        value: rails-5.2
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-5.2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.5.8 for rails-6.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.5.8
      - name: GEMSET
        value: rails-6.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.5.8 for rails-6.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.5.8
      - name: GEMSET
        value: rails-6.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
- name: Ruby 2.6.9
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.6.9 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 2.6.9 - Gems
  dependencies:
  - Ruby 2.6.9
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.6.9 for capistrano2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: capistrano2
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for capistrano3
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: capistrano3
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano3.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for grape
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: grape
      - name: BUNDLE_GEMFILE
        value: gemfiles/grape.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for http5
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: http5
      - name: BUNDLE_GEMFILE
        value: gemfiles/http5.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for padrino
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: padrino
      - name: BUNDLE_GEMFILE
        value: gemfiles/padrino.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for que
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: que
      - name: BUNDLE_GEMFILE
        value: gemfiles/que.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for que_beta
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: que_beta
      - name: BUNDLE_GEMFILE
        value: gemfiles/que_beta.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for rails-5.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: rails-5.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-5.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for rails-5.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: rails-5.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-5.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for rails-5.2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: rails-5.2
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-5.2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for rails-6.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: rails-6.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for rails-6.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: rails-6.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for resque-1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: resque-1
      - name: BUNDLE_GEMFILE
        value: gemfiles/resque-1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: 1.17.3
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for resque-2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: resque-2
      - name: BUNDLE_GEMFILE
        value: gemfiles/resque-2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for sequel
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: sequel
      - name: BUNDLE_GEMFILE
        value: gemfiles/sequel.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for sequel-435
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: sequel-435
      - name: BUNDLE_GEMFILE
        value: gemfiles/sequel-435.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for sinatra
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: sinatra
      - name: BUNDLE_GEMFILE
        value: gemfiles/sinatra.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.6.9 for webmachine
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.6.9
      - name: GEMSET
        value: webmachine
      - name: BUNDLE_GEMFILE
        value: gemfiles/webmachine.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
- name: Ruby 2.7.7
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.7.7 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 2.7.7 - Gems
  dependencies:
  - Ruby 2.7.7
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 2.7.7 for capistrano2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: capistrano2
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for capistrano3
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: capistrano3
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano3.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for grape
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: grape
      - name: BUNDLE_GEMFILE
        value: gemfiles/grape.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for http5
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: http5
      - name: BUNDLE_GEMFILE
        value: gemfiles/http5.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for padrino
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: padrino
      - name: BUNDLE_GEMFILE
        value: gemfiles/padrino.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for que
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: que
      - name: BUNDLE_GEMFILE
        value: gemfiles/que.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for que_beta
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: que_beta
      - name: BUNDLE_GEMFILE
        value: gemfiles/que_beta.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for rails-5.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: rails-5.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-5.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for rails-5.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: rails-5.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-5.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for rails-5.2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: rails-5.2
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-5.2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for rails-6.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: rails-6.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for rails-6.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: rails-6.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for rails-7.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: rails-7.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-7.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for resque-1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: resque-1
      - name: BUNDLE_GEMFILE
        value: gemfiles/resque-1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: 1.17.3
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for resque-2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: resque-2
      - name: BUNDLE_GEMFILE
        value: gemfiles/resque-2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for sequel
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: sequel
      - name: BUNDLE_GEMFILE
        value: gemfiles/sequel.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for sequel-435
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: sequel-435
      - name: BUNDLE_GEMFILE
        value: gemfiles/sequel-435.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for sinatra
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: sinatra
      - name: BUNDLE_GEMFILE
        value: gemfiles/sinatra.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 2.7.7 for webmachine
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 2.7.7
      - name: GEMSET
        value: webmachine
      - name: BUNDLE_GEMFILE
        value: gemfiles/webmachine.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
- name: Ruby 3.0.4
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 3.0.4 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 3.0.4 - Gems
  dependencies:
  - Ruby 3.0.4
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 3.0.4 for capistrano2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: capistrano2
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for capistrano3
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: capistrano3
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano3.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for grape
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: grape
      - name: BUNDLE_GEMFILE
        value: gemfiles/grape.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for hanami
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: hanami
      - name: BUNDLE_GEMFILE
        value: gemfiles/hanami.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for http5
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: http5
      - name: BUNDLE_GEMFILE
        value: gemfiles/http5.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for padrino
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: padrino
      - name: BUNDLE_GEMFILE
        value: gemfiles/padrino.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for psych-3
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: psych-3
      - name: BUNDLE_GEMFILE
        value: gemfiles/psych-3.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for psych-4
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: psych-4
      - name: BUNDLE_GEMFILE
        value: gemfiles/psych-4.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for que
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: que
      - name: BUNDLE_GEMFILE
        value: gemfiles/que.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for que_beta
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: que_beta
      - name: BUNDLE_GEMFILE
        value: gemfiles/que_beta.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for rails-6.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: rails-6.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for rails-6.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: rails-6.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for rails-7.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: rails-7.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-7.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for resque-2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: resque-2
      - name: BUNDLE_GEMFILE
        value: gemfiles/resque-2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for sequel
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: sequel
      - name: BUNDLE_GEMFILE
        value: gemfiles/sequel.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for sinatra
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: sinatra
      - name: BUNDLE_GEMFILE
        value: gemfiles/sinatra.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.0.4 for webmachine
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.0.4
      - name: GEMSET
        value: webmachine
      - name: BUNDLE_GEMFILE
        value: gemfiles/webmachine.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
- name: Ruby 3.1.2
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 3.1.2 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 3.1.2 - Gems
  dependencies:
  - Ruby 3.1.2
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 3.1.2 for capistrano2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: capistrano2
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for capistrano3
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: capistrano3
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano3.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for grape
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: grape
      - name: BUNDLE_GEMFILE
        value: gemfiles/grape.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for hanami
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: hanami
      - name: BUNDLE_GEMFILE
        value: gemfiles/hanami.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for http5
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: http5
      - name: BUNDLE_GEMFILE
        value: gemfiles/http5.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for padrino
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: padrino
      - name: BUNDLE_GEMFILE
        value: gemfiles/padrino.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for psych-3
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: psych-3
      - name: BUNDLE_GEMFILE
        value: gemfiles/psych-3.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for psych-4
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: psych-4
      - name: BUNDLE_GEMFILE
        value: gemfiles/psych-4.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for que
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: que
      - name: BUNDLE_GEMFILE
        value: gemfiles/que.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for que_beta
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: que_beta
      - name: BUNDLE_GEMFILE
        value: gemfiles/que_beta.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for rails-6.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: rails-6.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for rails-7.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: rails-7.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-7.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for resque-2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: resque-2
      - name: BUNDLE_GEMFILE
        value: gemfiles/resque-2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for sequel
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: sequel
      - name: BUNDLE_GEMFILE
        value: gemfiles/sequel.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for sinatra
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: sinatra
      - name: BUNDLE_GEMFILE
        value: gemfiles/sinatra.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.1.2 for webmachine
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.1.2
      - name: GEMSET
        value: webmachine
      - name: BUNDLE_GEMFILE
        value: gemfiles/webmachine.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
- name: Ruby 3.2.0
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 3.2.0 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby 3.2.0 - Gems
  dependencies:
  - Ruby 3.2.0
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby 3.2.0 for capistrano2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: capistrano2
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for capistrano3
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: capistrano3
      - name: BUNDLE_GEMFILE
        value: gemfiles/capistrano3.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for grape
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: grape
      - name: BUNDLE_GEMFILE
        value: gemfiles/grape.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for hanami
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: hanami
      - name: BUNDLE_GEMFILE
        value: gemfiles/hanami.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for http5
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: http5
      - name: BUNDLE_GEMFILE
        value: gemfiles/http5.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for padrino
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: padrino
      - name: BUNDLE_GEMFILE
        value: gemfiles/padrino.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for psych-3
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: psych-3
      - name: BUNDLE_GEMFILE
        value: gemfiles/psych-3.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for psych-4
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: psych-4
      - name: BUNDLE_GEMFILE
        value: gemfiles/psych-4.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for que
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: que
      - name: BUNDLE_GEMFILE
        value: gemfiles/que.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for que_beta
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: que_beta
      - name: BUNDLE_GEMFILE
        value: gemfiles/que_beta.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for rails-6.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: rails-6.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for rails-7.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: rails-7.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-7.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for resque-2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: resque-2
      - name: BUNDLE_GEMFILE
        value: gemfiles/resque-2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for sequel
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: sequel
      - name: BUNDLE_GEMFILE
        value: gemfiles/sequel.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for sinatra
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: sinatra
      - name: BUNDLE_GEMFILE
        value: gemfiles/sinatra.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby 3.2.0 for webmachine
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: 3.2.0
      - name: GEMSET
        value: webmachine
      - name: BUNDLE_GEMFILE
        value: gemfiles/webmachine.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
- name: Ruby jruby-9.3.9.0
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby jruby-9.3.9.0 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: jruby-9.3.9.0
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby jruby-9.3.9.0 - Gems
  dependencies:
  - Ruby jruby-9.3.9.0
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby jruby-9.3.9.0 for rails-5.2
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: jruby-9.3.9.0
      - name: GEMSET
        value: rails-5.2
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-5.2.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
- name: Ruby jruby-9.4.0.0
  dependencies:
  - Validation
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby jruby-9.4.0.0 for no_dependencies
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: jruby-9.4.0.0
      - name: GEMSET
        value: no_dependencies
      - name: BUNDLE_GEMFILE
        value: gemfiles/no_dependencies.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
      - "./support/bundler_wrapper exec rake test:failure"
- name: Ruby jruby-9.4.0.0 - Gems
  dependencies:
  - Ruby jruby-9.4.0.0
  task:
    prologue:
      commands:
      - cache restore $_BUNDLER_CACHE-bundler-$RUBY_VERSION-$GEMSET-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - cache restore $_GEMS_CACHE-gems-$RUBY_VERSION-$(checksum $BUNDLE_GEMFILE)-$(checksum
        appsignal.gemspec)
      - "./support/install_deps"
      - bundle config set clean 'true'
      - "./support/bundler_wrapper install --jobs=3 --retry=3"
      - "./support/bundler_wrapper exec rake extension:install"
    epilogue: *1
    jobs:
    - name: Ruby jruby-9.4.0.0 for rails-6.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: jruby-9.4.0.0
      - name: GEMSET
        value: rails-6.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby jruby-9.4.0.0 for rails-6.1
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: jruby-9.4.0.0
      - name: GEMSET
        value: rails-6.1
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-6.1.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
    - name: Ruby jruby-9.4.0.0 for rails-7.0
      env_vars:
      - *2
      - *3
      - *4
      - *5
      - name: RUBY_VERSION
        value: jruby-9.4.0.0
      - name: GEMSET
        value: rails-7.0
      - name: BUNDLE_GEMFILE
        value: gemfiles/rails-7.0.gemfile
      - name: _RUBYGEMS_VERSION
        value: latest
      - name: _BUNDLER_VERSION
        value: latest
      commands:
      - "./support/bundler_wrapper exec rake test"
